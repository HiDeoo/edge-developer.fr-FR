---
description: Incorporer des technologies Web (HTML, CSS et JavaScript) dans vos applications natives avec le contrôle Microsoft Edge WebView2
title: Microsoft. Web. WebView2. Core. CoreWebView2CompositionController
author: MSEdgeTeam
ms.author: msedgedevrel
ms.date: 07/08/2020
ms.topic: reference
ms.prod: microsoft-edge
ms.technology: webview
keywords: Microsoft. Web. WebView2, Core, WebView2, WebView, dotnet, WPF, WinForms, application, Edge, CoreWebView2, CoreWebView2Controller, contrôle de navigateur, Edge html, Microsoft. Web. WebView2. Core. CoreWebView2CompositionController
ms.openlocfilehash: 45ac5406cea804aa5b5db748cecaae7104dccb00
ms.sourcegitcommit: f6764f57aed9ab7229e4eb6cc8851d0cea667403
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 07/15/2020
ms.locfileid: "10878987"
---
# <span data-ttu-id="8d70c-104">Classe Microsoft. Web. WebView2. Core. CoreWebView2CompositionController</span><span class="sxs-lookup"><span data-stu-id="8d70c-104">Microsoft.Web.WebView2.Core.CoreWebView2CompositionController class</span></span> 

> [!NOTE]
> <span data-ttu-id="8d70c-105">Il s’agit d’une [API expérimentale](../../../concepts/versioning.md#experimental-apis) fournie avec notre version SDK version [0.9.538-préliminaire](../../../releasenotes.md#09538).</span><span class="sxs-lookup"><span data-stu-id="8d70c-105">This is an [experimental API](../../../concepts/versioning.md#experimental-apis) that shipped with our SDK version [0.9.538-prerelease](../../../releasenotes.md#09538).</span></span>

<span data-ttu-id="8d70c-106">Espace de noms: Microsoft. Web. WebView2. Core </span><span class="sxs-lookup"><span data-stu-id="8d70c-106">Namespace: Microsoft.Web.WebView2.Core</span></span>\
<span data-ttu-id="8d70c-107">Assemblage: Microsoft.Web.WebView2.Core.dll</span><span class="sxs-lookup"><span data-stu-id="8d70c-107">Assembly: Microsoft.Web.WebView2.Core.dll</span></span>

<span data-ttu-id="8d70c-108">Cette classe est une extension de la classe CoreWebView2Controller pour prendre en charge l’hébergement visuel.</span><span class="sxs-lookup"><span data-stu-id="8d70c-108">This class is an extension of the CoreWebView2Controller class to support visual hosting.</span></span>

## <span data-ttu-id="8d70c-109">Résumé</span><span class="sxs-lookup"><span data-stu-id="8d70c-109">Summary</span></span>

 <span data-ttu-id="8d70c-110">Ses</span><span class="sxs-lookup"><span data-stu-id="8d70c-110">Members</span></span>                        | <span data-ttu-id="8d70c-111">Descriptions</span><span class="sxs-lookup"><span data-stu-id="8d70c-111">Descriptions</span></span>
--------------------------------|---------------------------------------------
[<span data-ttu-id="8d70c-112">Curseur</span><span class="sxs-lookup"><span data-stu-id="8d70c-112">Cursor</span></span>](#cursor) | <span data-ttu-id="8d70c-113">Le curseur actuel attendu par le WebView devrait être.</span><span class="sxs-lookup"><span data-stu-id="8d70c-113">The current cursor that WebView thinks it should be.</span></span>
[<span data-ttu-id="8d70c-114">CursorChanged</span><span class="sxs-lookup"><span data-stu-id="8d70c-114">CursorChanged</span></span>](#cursorchanged) | <span data-ttu-id="8d70c-115">L’événement se déclenche lorsque WebView considère que le curseur doit être modifié.</span><span class="sxs-lookup"><span data-stu-id="8d70c-115">The event fires when WebView thinks the cursor should be changed.</span></span>
[<span data-ttu-id="8d70c-116">RootVisualTarget</span><span class="sxs-lookup"><span data-stu-id="8d70c-116">RootVisualTarget</span></span>](#rootvisualtarget) | <span data-ttu-id="8d70c-117">Le RootVisualTarget est un élément visuel de l’arborescence visuelle de l’application hôte.</span><span class="sxs-lookup"><span data-stu-id="8d70c-117">The RootVisualTarget is a visual in the hosting app's visual tree.</span></span>
[<span data-ttu-id="8d70c-118">UIAProvider</span><span class="sxs-lookup"><span data-stu-id="8d70c-118">UIAProvider</span></span>](#uiaprovider) | <span data-ttu-id="8d70c-119">Renvoie le fournisseur UI Automation pour le WebView.</span><span class="sxs-lookup"><span data-stu-id="8d70c-119">Returns the UI Automation Provider for the WebView.</span></span>
[<span data-ttu-id="8d70c-120">CreateCoreWebView2PointerInfoFromPointerId</span><span class="sxs-lookup"><span data-stu-id="8d70c-120">CreateCoreWebView2PointerInfoFromPointerId</span></span>](#createcorewebview2pointerinfofrompointerid) | <span data-ttu-id="8d70c-121">Fonction d’assistance permettant de convertir un pointerId reçu du système en CoreWebView2ExperimentalPointerInfo.</span><span class="sxs-lookup"><span data-stu-id="8d70c-121">A helper function to convert a pointerId received from the system into a CoreWebView2ExperimentalPointerInfo.</span></span>
[<span data-ttu-id="8d70c-122">SendMouseInput</span><span class="sxs-lookup"><span data-stu-id="8d70c-122">SendMouseInput</span></span>](#sendmouseinput) | <span data-ttu-id="8d70c-123">Si eventKind est CoreWebView2MouseEventKind. HorizontalWheel ou CoreWebView2MouseEventKind. Wheel, mouseData spécifie la valeur du mouvement de la roulette.</span><span class="sxs-lookup"><span data-stu-id="8d70c-123">If eventKind is CoreWebView2MouseEventKind.HorizontalWheel or CoreWebView2MouseEventKind.Wheel, then mouseData specifies the amount of wheel movement.</span></span>
[<span data-ttu-id="8d70c-124">SendPointerInput</span><span class="sxs-lookup"><span data-stu-id="8d70c-124">SendPointerInput</span></span>](#sendpointerinput) | <span data-ttu-id="8d70c-125">SendPointerInput accepte les entrées de pointeur en forme d’effleurement ou de stylet définies dans CoreWebView2PointerEventKind.</span><span class="sxs-lookup"><span data-stu-id="8d70c-125">SendPointerInput accepts touch or pen pointer input of types defined in CoreWebView2PointerEventKind.</span></span>

## <span data-ttu-id="8d70c-126">Ses</span><span class="sxs-lookup"><span data-stu-id="8d70c-126">Members</span></span>

#### <span data-ttu-id="8d70c-127">Curseur</span><span class="sxs-lookup"><span data-stu-id="8d70c-127">Cursor</span></span> 

<span data-ttu-id="8d70c-128">Le curseur actuel attendu par le WebView devrait être.</span><span class="sxs-lookup"><span data-stu-id="8d70c-128">The current cursor that WebView thinks it should be.</span></span>

> <span data-ttu-id="8d70c-129">[curseur](#cursor) IntPtr public</span><span class="sxs-lookup"><span data-stu-id="8d70c-129">public IntPtr [Cursor](#cursor)</span></span>

<span data-ttu-id="8d70c-130">Le curseur doit être défini dans WM_SETCURSOR par le biais de mous. SetCursor ou défini sur le HWND parent/ancêtre correspondant du WebView via SetClassLongPtr.</span><span class="sxs-lookup"><span data-stu-id="8d70c-130">The cursor should be set in WM_SETCURSOR through Mouse.SetCursor or set on the corresponding parent/ancestor HWND of the WebView through SetClassLongPtr.</span></span> <span data-ttu-id="8d70c-131">Le HCURSOR peut être retardée de sorte que CopyCursor/DestroyCursor est recommandé de conserver votre propre copie si vous ne faites pas immédiatement la définition du curseur.</span><span class="sxs-lookup"><span data-stu-id="8d70c-131">The HCURSOR can be freed so CopyCursor/DestroyCursor is recommended to keep your own copy if you are doing more than immediately setting the cursor.</span></span>

#### <span data-ttu-id="8d70c-132">CursorChanged</span><span class="sxs-lookup"><span data-stu-id="8d70c-132">CursorChanged</span></span> 

<span data-ttu-id="8d70c-133">L’événement se déclenche lorsque WebView considère que le curseur doit être modifié.</span><span class="sxs-lookup"><span data-stu-id="8d70c-133">The event fires when WebView thinks the cursor should be changed.</span></span>

> <span data-ttu-id="8d70c-134">événement public EventHandler< objet > [CursorChanged](#cursorchanged)</span><span class="sxs-lookup"><span data-stu-id="8d70c-134">public event EventHandler< object > [CursorChanged](#cursorchanged)</span></span>

<span data-ttu-id="8d70c-135">Par exemple, lorsque le curseur de la souris est actuellement le curseur par défaut, mais qu’il est alors déplacé sur du texte, il peut essayer de basculer vers le curseur IBeam.</span><span class="sxs-lookup"><span data-stu-id="8d70c-135">For example, when the mouse cursor is currently the default cursor but is then moved over text, it may try to change to the IBeam cursor.</span></span>

#### <span data-ttu-id="8d70c-136">RootVisualTarget</span><span class="sxs-lookup"><span data-stu-id="8d70c-136">RootVisualTarget</span></span> 

<span data-ttu-id="8d70c-137">Le RootVisualTarget est un élément visuel de l’arborescence visuelle de l’application hôte.</span><span class="sxs-lookup"><span data-stu-id="8d70c-137">The RootVisualTarget is a visual in the hosting app's visual tree.</span></span>

> <span data-ttu-id="8d70c-138">[RootVisualTarget](#rootvisualtarget) d’objet public</span><span class="sxs-lookup"><span data-stu-id="8d70c-138">public object [RootVisualTarget](#rootvisualtarget)</span></span>

<span data-ttu-id="8d70c-139">Cet élément visuel est l’endroit où le WebView se connecte à son arborescence d’éléments visuels.</span><span class="sxs-lookup"><span data-stu-id="8d70c-139">This visual is where the WebView will connect its visual tree.</span></span> <span data-ttu-id="8d70c-140">L’application utilise cet élément visuel pour positionner le WebView dans l’application.</span><span class="sxs-lookup"><span data-stu-id="8d70c-140">The app uses this visual to position the WebView within the app.</span></span> <span data-ttu-id="8d70c-141">L’application doit toujours utiliser la propriété Bounds pour redimensionner le WebView.</span><span class="sxs-lookup"><span data-stu-id="8d70c-141">The app still needs to use the Bounds property to size the WebView.</span></span> <span data-ttu-id="8d70c-142">La propriété RootVisualTarget peut être IDCompositionVisual ou Windows:: UI:: composition:: ContainerVisual.</span><span class="sxs-lookup"><span data-stu-id="8d70c-142">The RootVisualTarget property can be an IDCompositionVisual or a Windows::UI::Composition::ContainerVisual.</span></span> <span data-ttu-id="8d70c-143">WebView va connecter son arborescence d’éléments visuels à l’élément visuel fourni avant de revenir à partir de la méthode setter de propriété.</span><span class="sxs-lookup"><span data-stu-id="8d70c-143">WebView will connect its visual tree to the provided visual before returning from the property setter.</span></span> <span data-ttu-id="8d70c-144">L’application doit valider sur son appareil définissant la propriété RootVisualTarget.</span><span class="sxs-lookup"><span data-stu-id="8d70c-144">The app needs to commit on its device setting the RootVisualTarget property.</span></span> <span data-ttu-id="8d70c-145">La propriété RootVisualTarget prend en charge la valeur nullptr pour déconnecter le WebView de l’arborescence visuelle de l’application.</span><span class="sxs-lookup"><span data-stu-id="8d70c-145">The RootVisualTarget property supports being set to nullptr to disconnect the WebView from the app's visual tree.</span></span>

#### <span data-ttu-id="8d70c-146">UIAProvider</span><span class="sxs-lookup"><span data-stu-id="8d70c-146">UIAProvider</span></span> 

<span data-ttu-id="8d70c-147">Renvoie le fournisseur UI Automation pour le WebView.</span><span class="sxs-lookup"><span data-stu-id="8d70c-147">Returns the UI Automation Provider for the WebView.</span></span>

> <span data-ttu-id="8d70c-148">[UIAProvider](#uiaprovider) d’objet public</span><span class="sxs-lookup"><span data-stu-id="8d70c-148">public object [UIAProvider](#uiaprovider)</span></span>

#### <span data-ttu-id="8d70c-149">CreateCoreWebView2PointerInfoFromPointerId</span><span class="sxs-lookup"><span data-stu-id="8d70c-149">CreateCoreWebView2PointerInfoFromPointerId</span></span> 

<span data-ttu-id="8d70c-150">Fonction d’assistance permettant de convertir un pointerId reçu du système en CoreWebView2ExperimentalPointerInfo.</span><span class="sxs-lookup"><span data-stu-id="8d70c-150">A helper function to convert a pointerId received from the system into a CoreWebView2ExperimentalPointerInfo.</span></span>

> <span data-ttu-id="8d70c-151">public [CoreWebView2PointerInfo](microsoft-web-webview2-core-corewebview2pointerinfo.md) [CreateCoreWebView2PointerInfoFromPointerId](#createcorewebview2pointerinfofrompointerid)(uint PointerId, IntPtr FenêtreParent, Matrix4x4 Transform)</span><span class="sxs-lookup"><span data-stu-id="8d70c-151">public [CoreWebView2PointerInfo](microsoft-web-webview2-core-corewebview2pointerinfo.md) [CreateCoreWebView2PointerInfoFromPointerId](#createcorewebview2pointerinfofrompointerid)(uint PointerId, IntPtr ParentWindow, Matrix4x4 transform)</span></span>

<span data-ttu-id="8d70c-152">FenêtreParent est le HWND qui contient le WebView.</span><span class="sxs-lookup"><span data-stu-id="8d70c-152">parentWindow is the HWND that contains the webview.</span></span> <span data-ttu-id="8d70c-153">Il peut s’agir d’un HWND de l’arborescence HWND qui contient le WebView.</span><span class="sxs-lookup"><span data-stu-id="8d70c-153">This can be any HWND in the hwnd tree that contains the webview.</span></span> <span data-ttu-id="8d70c-154">CoreWebView2Matrix4x4 est la transformation de ce HWND vers le WebView.</span><span class="sxs-lookup"><span data-stu-id="8d70c-154">The CoreWebView2Matrix4x4 is the transform from that HWND to the webview.</span></span> <span data-ttu-id="8d70c-155">Le CoreWebView2ExperimentalPointerInfo renvoyé est utilisé dans SendPointerInfo.</span><span class="sxs-lookup"><span data-stu-id="8d70c-155">The returned CoreWebView2ExperimentalPointerInfo is used in SendPointerInfo.</span></span> <span data-ttu-id="8d70c-156">Le type de pointeur doit être PEN ou Touch, ou la fonction échoue.</span><span class="sxs-lookup"><span data-stu-id="8d70c-156">The pointer type must be either pen or touch or the function will fail.</span></span>

#### <span data-ttu-id="8d70c-157">SendMouseInput</span><span class="sxs-lookup"><span data-stu-id="8d70c-157">SendMouseInput</span></span> 

<span data-ttu-id="8d70c-158">Si eventKind est CoreWebView2MouseEventKind. HorizontalWheel ou CoreWebView2MouseEventKind. Wheel, mouseData spécifie la valeur du mouvement de la roulette.</span><span class="sxs-lookup"><span data-stu-id="8d70c-158">If eventKind is CoreWebView2MouseEventKind.HorizontalWheel or CoreWebView2MouseEventKind.Wheel, then mouseData specifies the amount of wheel movement.</span></span>

> <span data-ttu-id="8d70c-159">public void [SendMouseInput](#sendmouseinput)([CoreWebView2MouseEventKind](./namespace-microsoft-web-webview2-core.md) eventKind [CoreWebView2MouseEventVirtualKeys](./namespace-microsoft-web-webview2-core.md) VirtualKeys, uint mouseData, point point)</span><span class="sxs-lookup"><span data-stu-id="8d70c-159">public void [SendMouseInput](#sendmouseinput)([CoreWebView2MouseEventKind](./namespace-microsoft-web-webview2-core.md) eventKind, [CoreWebView2MouseEventVirtualKeys](./namespace-microsoft-web-webview2-core.md) virtualKeys, uint mouseData, Point point)</span></span>

<span data-ttu-id="8d70c-160">Valeur positive indiquant que la roue a été pivotée vers l’avant, en dehors de l’utilisateur; une valeur négative indique que la roue a été pivotée vers l’arrière, pour l’utilisateur.</span><span class="sxs-lookup"><span data-stu-id="8d70c-160">A positive value indicates that the wheel was rotated forward, away from the user; a negative value indicates that the wheel was rotated backward, toward the user.</span></span> <span data-ttu-id="8d70c-161">Un clic sur un seul volant définit en tant que WHEEL_DELTA, soit 120.</span><span class="sxs-lookup"><span data-stu-id="8d70c-161">One wheel click is defined as WHEEL_DELTA, which is 120.</span></span> <span data-ttu-id="8d70c-162">Si eventKind est CoreWebView2MouseEventKind. XButtonDoubleClick CoreWebView2MouseEventKind. XButtonDown ou CoreWebView2MouseEventKind. XButtonUp, mouseData indique quels boutons X ont été pressés ou relâchements.</span><span class="sxs-lookup"><span data-stu-id="8d70c-162">If eventKind is CoreWebView2MouseEventKind.XButtonDoubleClick CoreWebView2MouseEventKind.XButtonDown, or CoreWebView2MouseEventKind.XButtonUp, then mouseData specifies which X buttons were pressed or released.</span></span> <span data-ttu-id="8d70c-163">Cette valeur doit être 1 si le premier bouton X est appuyé sur/officialisé et 2 si le second bouton X est enfoncé/officialisé.</span><span class="sxs-lookup"><span data-stu-id="8d70c-163">This value should be 1 if the first X button is pressed/released and 2 if the second X button is pressed/released.</span></span> <span data-ttu-id="8d70c-164">Si eventKind est CoreWebView2MouseEventKind. Leave, virtualKeys, mouseData et point doivent tous être zéro.</span><span class="sxs-lookup"><span data-stu-id="8d70c-164">If eventKind is CoreWebView2MouseEventKind.Leave, then virtualKeys, mouseData, and point should all be zero.</span></span> <span data-ttu-id="8d70c-165">Si eventKind est une autre valeur, mouseData doit être zéro.</span><span class="sxs-lookup"><span data-stu-id="8d70c-165">If eventKind is any other value, then mouseData should be zero.</span></span> <span data-ttu-id="8d70c-166">Le point est censé figurer dans l’espace de coordonnées client du WebView.</span><span class="sxs-lookup"><span data-stu-id="8d70c-166">Point is expected to be in the client coordinate space of the WebView.</span></span> <span data-ttu-id="8d70c-167">Pour effectuer le suivi des événements de souris qui démarrent dans le WebView et qui peuvent être déplacés en dehors de l’application WebView et hôte, il est recommandé d’appeler SetCapture et ReleaseCapture.</span><span class="sxs-lookup"><span data-stu-id="8d70c-167">To track mouse events that start in the WebView and can potentially move outside of the WebView and host application, calling SetCapture and ReleaseCapture is recommended.</span></span> <span data-ttu-id="8d70c-168">Pour faire disparaître les fenêtres de survol, il est également recommandé d’envoyer WM_MOUSELEAVE messages.</span><span class="sxs-lookup"><span data-stu-id="8d70c-168">To dismiss hover popups, it is also recommended to send WM_MOUSELEAVE messages.</span></span>

#### <span data-ttu-id="8d70c-169">SendPointerInput</span><span class="sxs-lookup"><span data-stu-id="8d70c-169">SendPointerInput</span></span> 

<span data-ttu-id="8d70c-170">SendPointerInput accepte les entrées de pointeur en forme d’effleurement ou de stylet définies dans CoreWebView2PointerEventKind.</span><span class="sxs-lookup"><span data-stu-id="8d70c-170">SendPointerInput accepts touch or pen pointer input of types defined in CoreWebView2PointerEventKind.</span></span>

> <span data-ttu-id="8d70c-171">public void [SendPointerInput](#sendpointerinput)([CoreWebView2PointerEventKind](./namespace-microsoft-web-webview2-core.md) EventType; [CoreWebView2PointerInfo](microsoft-web-webview2-core-corewebview2pointerinfo.md) pointerInfo)</span><span class="sxs-lookup"><span data-stu-id="8d70c-171">public void [SendPointerInput](#sendpointerinput)([CoreWebView2PointerEventKind](./namespace-microsoft-web-webview2-core.md) eventType, [CoreWebView2PointerInfo](microsoft-web-webview2-core-corewebview2pointerinfo.md) pointerInfo)</span></span>

<span data-ttu-id="8d70c-172">Toute entrée de pointeur à partir du système doit d’abord être convertie en CoreWebView2ExperimentalPointerInfo.</span><span class="sxs-lookup"><span data-stu-id="8d70c-172">Any pointer input from the system must be converted into a CoreWebView2ExperimentalPointerInfo first.</span></span>

